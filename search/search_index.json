{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Fortinet Azure SD-WAN IPsec","text":"<p>Vendor-neutral reference configs and operational notes for building Fortinet SD-WAN/IPsec connectivity to Azure.</p> <p>Always validate with the official docs for your FortiOS/Azure versions.</p>"},{"location":"#repo-map","title":"Repo map","text":"<ul> <li><code>configs/</code>  sample IPsec/BGP/route snippets (sanitized)</li> <li><code>diagrams/</code>  source/exported diagrams</li> <li><code>samples/</code>  supporting scripts/snippets</li> <li>Docs  use the navigation on the left</li> </ul>"},{"location":"ARCHITECTURE/","title":"Architecture","text":"<p>This project documents Fortinet SD-WAN with IPsec into Azure. It keeps guidance vendor-neutral and version-explicit.</p>"},{"location":"ARCHITECTURE/#models-covered","title":"Models covered","text":"<ul> <li>Direct SD-WAN to Azure vWAN (NVA in hub, IPsec per spoke/branch)</li> <li>Indirect via NVA in hub VNet (non-vWAN)</li> <li>Managed (provider) variants</li> </ul>"},{"location":"ARCHITECTURE/#versioning","title":"Versioning","text":"<ul> <li>FortiOS: 7.x/7.2/7.4 notes called out inline</li> <li>Azure: vWAN, Route Tables, UDRs, Gateway SKUs noted per section</li> </ul>"},{"location":"ARCHITECTURE/#connectivity-primitives","title":"Connectivity primitives","text":"<ul> <li>IKEv2, DPD, rekey/lifetime, NAT-T</li> <li>BGP optional: advertised prefixes, weight/AS-path tips</li> </ul>"},{"location":"DEPLOYMENT_GUIDE/","title":"Deployment Guide","text":"<p>Tested locally via MkDocs. Validate against your Azure/FortiOS versions.</p>"},{"location":"DEPLOYMENT_GUIDE/#prereqs","title":"Prereqs","text":"<ul> <li>Azure subscription + RBAC</li> <li>FortiGate with SD-WAN overlays configured</li> <li>Tooling: PowerShell 7+, Python 3.11+ (or 3.13), MkDocs</li> </ul>"},{"location":"DEPLOYMENT_GUIDE/#steps","title":"Steps","text":"<ol> <li>Prepare address objects &amp; phase1/phase2 proposals</li> <li>Create/verify Azure vWAN or hub VNet</li> <li>Provision IPsec tunnel(s) and BGP (optional)</li> <li>Add/validate UDRs, route propagation, firewall policies</li> <li>Test flows (ICMP, TCP 443, custom), observe logs</li> <li>Stabilize timers and failover thresholds</li> </ol>"},{"location":"DEPLOYMENT_GUIDE/#validation","title":"Validation","text":"<ul> <li>End-to-end ping + TCP test</li> <li>Route table checks (effective routes)</li> <li>FortiGate session table and IPSec SA states</li> </ul>"},{"location":"FAQ/","title":"FAQ","text":"<p>Q: Which IKE/phase2 settings are safest defaults? A: Start with IKEv2, AES-GCM, PFS on; align lifetimes on both ends.</p> <p>Q: BGP or static routes? A: Use BGP for multi-tunnel/scale; static for very small/simple sites.</p> <p>Q: How do I test without production risk? A: Bring up a lab VNet/spoke and a test tunnel first. Validate flows, then mirror config in prod.</p>"},{"location":"OPERATIONAL_RUNBOOK/","title":"Operational Runbook","text":""},{"location":"OPERATIONAL_RUNBOOK/#day-2-checks","title":"Day-2 checks","text":"<ul> <li>IPsec SAs up, DPD stable</li> <li>BGP adjacencies (if used) established</li> <li>Uptime/health alerts clean</li> </ul>"},{"location":"OPERATIONAL_RUNBOOK/#common-tasks","title":"Common tasks","text":"<ul> <li>Rotate pre-shared keys (PSKs)</li> <li>Add a new branch tunnel</li> <li>Update UDRs and validate effective routes</li> </ul>"},{"location":"OPERATIONAL_RUNBOOK/#change-control-checklist","title":"Change control checklist","text":"<ul> <li>Impact analysis</li> <li>Backout plan</li> <li>Test plan and success criteria</li> </ul>"},{"location":"TROUBLESHOOTING/","title":"Troubleshooting","text":""},{"location":"TROUBLESHOOTING/#quick-triage","title":"Quick triage","text":"<ol> <li>Is the tunnel up? (SAs / logs)</li> <li>Do routes exist both ways? (effective routes, BGP learned)</li> <li>Is traffic permitted? (firewall policy hit counts)</li> <li>Asymmetric paths? (SNAT/match rules)</li> </ol>"},{"location":"TROUBLESHOOTING/#useful-commands","title":"Useful commands","text":"<ul> <li>Azure: <code>Test-AzNetworkConnectivity</code>, effective routes</li> <li>FortiGate: <code>diag vpn ike</code>, <code>diag debug flow</code></li> </ul>"},{"location":"TROUBLESHOOTING/#common-symptoms","title":"Common symptoms","text":"<ul> <li>DPD failures  check NAT-T and timers</li> <li>One-way reachability  UDR asymmetry / policy</li> </ul>"},{"location":"badges-snippet/","title":"Badges snippet","text":""}]}